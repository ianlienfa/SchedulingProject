# -*- coding: utf-8 -*-
"""
Created on Sun Dec 12 22:49:13 2021

@author: mjl
"""
import numpy as np

pre=[[2, 3, 6, 12, 14, 15, 17, 20, 21, 29], [2, 4, 6, 9, 20, 21], [1, 6, 9, 10, 17, 19, 24, 27], [10, 15, 20, 22, 29], [4, 7, 11, 15, 18, 20, 22, 28], [1, 3, 7, 23, 24, 25, 28], [3, 5, 11, 12, 14, 15, 20, 22, 24, 25, 27, 28], [5, 17, 20, 25], [20, 27], [6, 10, 13, 23, 28], [4, 11, 14, 15, 20, 27], [0, 1, 5, 12, 16, 27, 28], [3, 8, 13, 18, 19, 20, 27, 28], [4, 5, 10, 13, 17, 19, 29], [7, 11, 25, 26], [1, 3, 8, 16, 21, 29], [0, 2, 5, 11, 14, 24, 28], [8, 9, 10, 12, 16, 21], [0, 3, 5, 6, 7, 9, 10, 14, 18, 24, 28], [0, 2, 13, 16, 20, 23, 25, 27, 29], [8, 13, 14, 17, 21, 25, 26], [2, 4, 5, 8, 12, 23, 25, 29], [19, 26, 27], [1, 2, 20, 21, 22], [10, 11, 16, 20], [2, 14, 19, 20, 28], [14, 16, 22, 23, 26, 27, 28], [1, 4, 5, 11, 14, 17, 27], [5, 12, 15, 22, 26], [4, 16, 17, 20, 22, 23, 25, 26, 29]]
suc=[[11, 16, 18, 19], [2, 5, 11, 15, 23, 27], [0, 1, 16, 19, 21, 23, 25], [0, 5, 6, 12, 15, 18], [1, 4, 10, 13, 21, 27, 29], [6, 7, 11, 13, 16, 18, 21, 27, 28], [0, 1, 2, 9, 18], [4, 5, 14, 18], [12, 15, 17, 20, 21], [1, 2, 17, 18], [2, 3, 9, 13, 17, 18, 24], [4, 6, 10, 14, 16, 24, 27], [0, 6, 11, 17, 21, 28], [9, 12, 13, 19, 20], [0, 6, 10, 16, 18, 20, 25, 26, 27], [0, 3, 4, 6, 10, 28], [11, 15, 17, 19, 24, 26, 29], [0, 2, 7, 13, 20, 27, 29], [4, 12, 18], [2, 12, 13, 22, 25], [0, 1, 3, 4, 6, 7, 8, 10, 12, 19, 23, 24, 25, 29], [0, 1, 15, 17, 20, 23], [3, 4, 6, 23, 26, 28, 29], [5, 9, 19, 21, 26, 29], [2, 5, 6, 16, 18], [5, 6, 7, 14, 19, 20, 21, 29], [14, 20, 22, 26, 28, 29], [2, 6, 8, 10, 11, 12, 19, 22, 26, 27], [4, 5, 6, 9, 11, 12, 16, 18, 25, 26], [0, 3, 13, 15, 19, 21, 29]]
p_time_setup=[5, 3, 12, 18, 5, 28, 8, 1, 20, 27, 6, 18, 25, 24, 8, 1, 27, 20, 13, 4, 22, 27, 14, 17, 9, 5, 13, 6, 16, 18]
p_time_task=[21, 22, 14, 5, 19, 24, 13, 10, 30, 9, 8, 18, 7, 9, 26, 7, 20, 25, 29, 13, 4, 4, 17, 20, 15, 14, 11, 18, 6, 9]
lin=[15, 7, 19, 1, 27, 25, 4, 0, 10, 26, 52, 14, 6, 20, 38, 24, 2, 11, 40, 44, 29, 28, 55, 22, 33, 18, 34, 5, 46, 17, 37, 57, 16, 54, 23, 59, 56, 13, 39, 43, 49, 12, 58, 41, 3, 36, 8, 51, 42, 21, 50, 45, 53, 30, 35, 9, 32, 31, 47, 48]
mjl=[15, 7, 19, 1, 27, 25, 4, 0, 10, 26, 52, 14, 6, 20, 24, 2, 11, 40, 29, 28, 55, 22, 33, 18, 34, 5, 46, 17, 37, 57, 16, 54, 23, 59, 56, 13, 39, 43, 49, 12, 58, 41, 3, 36, 8, 51, 42, 21, 50, 45, 53, 30, 35, 44, 9, 32, 31, 47, 48, 38]
def if0_29(l):
    m=np.zeros(30)
    for ll in l:
        if ll<30:
            m[ll]+=1
    print(m)
def is_pre_wrong(l):
    for i in range(60):
        if(l[i]>=30):#對於task
            remain=len(pre[l[i]%30])
            for j in range(i):
                for k in range(len(pre[l[i]%30])):
                    if pre[l[i]%30][k]==l[j]:
                        remain-=1
            if remain!=0:
                print(l[i],remain,'false')
    print('no fault')

def cal_c(l):
    time=0
    c=0
    for i in range(60):
        if(l[i]>=30):
            time+=p_time_task[l[i]%30]
            c+=time
        else:
            time+=p_time_setup[l[i]]
    print(time,c)
is_pre_wrong(mjl)
is_pre_wrong(lin)
cal_c(mjl)
cal_c(lin)
